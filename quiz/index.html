<!DOCTYPE html>
<html lang="en">
<head>
    <!-- @author: Jonathan  -->
    <meta charset="utf-8">
    <!-- always put your name in your work -->
    <meta name="author" content="Jonathan Browning">
    <!-- always label your name with a title -->
    <title>Take a quiz!</title>
    <!-- scale page to fit entire screen, so it properly fills non-desktop devices -->    
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- DEV-only for easier refreshing: stop the web browser from ever caching this page or its images -->
    <meta http-equiv="Cache-Control" content="no-cache" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/vue@latest/dist/vue.js"></script>
    <script defer src="main.js"></script>

    
</head>

<body>
    <h1>Let's take some quizzes!</h1>  
    <hr />

    <div id="app">
        <div id="container">

            <template v-if="quizChosen">
                <div id="quizTitle">
                    <h2>{{ quizTaking }}</h2>
                </div>

                <div id="result">
                    <strong>{{resultText}}</strong>
                </div>

                <div id="main-quiz">
                    <div v-for="(question, i) in quizQuestions" :class="`question${i}`" >
                        <p>{{ question }}</p>
                        <ul>
                            <li v-for="(choice, j) in quizChoices[i]">
                                <input type="radio" :name="`answer${i}`" :value="choice">
                                <label :for="choice">{{ choice }}</label>
                            </li>
                        </ul>
                    </div>
                </div>

                <button id="submit" @click="processAnswers()">Submit</button>
                <button id="reset" @click="refresh()">Take a different quiz!</button>
            </template>

            <template v-else>
                <h2>You've got some options. What quiz do you want to take?</h2>
                
                <div>
                    <button class="quizSelect" v-for="(link, i) in links" @click="fetchJSON(i)">
                        {{ link.name }}
                    </button>
                </div>

            </template>
        </div>  
    </div>

    <hr />

    <footer>
        <div class="center">
            Contact me at <a href="mailto:jrb127@duke.edu">jrb127@duke.edu</a>
            <br><br>
            This work is licensed under a 
            <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License.</a>
            <br>
            Last modified: 2-24-2021
        </div>
    </footer>
    
</body>
</html>
